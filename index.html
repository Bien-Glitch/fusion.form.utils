<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Title</title>
	
	<link rel="stylesheet" href="plugins/bootstrap/css/bootstrap.css">
	<link rel="stylesheet" href="plugins/fontawesome/css/all.css">
	
	<link rel="stylesheet" href="src/css/fusion.form.validator.css">
</head>
<body>
	<main>
		<div class="container-fluid">
			<div class="offset-lg-3 offset-md-2 col-lg-6 col-md-8">
				<form action="" method="post" id="login-form">
					<h3 class="text-center">Test Form</h3>
					<div class="form-group">
						<div class="input-group align-items-stretch flex-nowrap">
							<div class="form-label-group form-field-group required w-100">
								<input type="email" id="email" class="form-control" placeholder="E-Mail Address">
								<label for="email">E-Mail Address</label>
							</div>
						</div>
						<div id="emailValid" class="valid-text"></div>
					</div>
					
					<div class="form-group">
						<div class="input-group align-items-stretch flex-nowrap">
							<div class="form-label-group form-field-group required w-100">
								<input minlength="8" type="password" id="password" class="form-control" placeholder="Password">
								<label for="password">Password</label>
							</div>
						</div>
						<div id="passwordValid" class="valid-text"></div>
					</div>
					
					<div class="form-group">
						<button type="reset" class="btn btn-sm btn-danger">Reset</button>
						<button type="submit" class="btn btn-sm btn-primary">
							Submit
							<!--<i class="ms-1 fa fa-1x fa-spin fa-spinner-third button-loader"></i>-->
						</button>
						
						<div class="form-message">
							<div class="waiting-text d-none">
								<i class="fa fa-1x fa-exclamation-circle text-danger"></i>
								<span class="text-primary">Please Wait...</span>
							</div>
							<div class="response-text small"></div>
						</div>
					</div>
				</form>
			</div>
		</div>
	</main>
</body>

<script src="plugins/bootstrap/js/bootstrap.bundle.js"></script>
<script src="src/js/fusion.form.util.js"></script>
<script src="src/js/fusion.form.validator.js"></script>
<script>
	const loginFormValidator = $el('#login-form').upon('submit', function (e) {
		e.preventDefault();
		const form = e.currentTarget;
		
		form.handleFormSubmit({
			uri: form.getAction(),
			method: form.attribute('method'),
			data: {action: 'login'}
		}).then(response => console.log(response)).catch(error => console.warn(error));
	}).initValidator(form_group);
	console.log(loginFormValidator);
	loginFormValidator.validationConfig = {validateEmail: true}
	loginFormValidator.initValidation();
</script>
</html>
